fix(split)
fix(split)
?split
sapply(split(mtcars$mpg, mtcars$cyl), mean)
?sapply
?tapply
tapply(mtcars$cyl, mtcars$mpg, mean)
?lapply
sapply(split(mtcars$hp, mtcars$cyl), mean)
209.21429 - 82.63636
f <- function(x) {
g <- function(y) {
y + z
}
z <- 4
x + g(x)
}
z <- 10
f(3)
debug(ls)
ls
1
2
3
4
ls
x <- rnorm(10)
print(x)
x <- rnorm(10)
print(x)
x <- rnorm(10, 20, 2)
summary(x)
e <- rnorm(100, 0, 1)
y <- 1.5 - 3 * x + e
plot(x, y)
x <- 1:100
e <- rnorm(100, 0, 1)
y <- 1.5 - 3 * x + e
plot(x, y)
x <- rnorm(100)
hist(x)
dev.off()
graphics.off()
?par
x <- rnorm(100)
y <- x + rnorm(100)
par(las = 1)
plot(x, y)
x <- rnorm(100)
y <- x + rnorm(100)
par(las = 2)
plot(x, y)
x <- rnorm(100)
y <- x + rnorm(100)
par(las = 1)
plot(x, y)
x <- rnorm(100)
y <- x + rnorm(100)
par(las = 2)
plot(x, y)
x <- rnorm(100)
y <- x + rnorm(100)
par(las = 1)
plot(x, y)
x <- rnorm(100)
y <- x + rnorm(100)
plot(x, y)
x1 <- rnorm(10)
y1 <- rnorm(10)
points(x1, y1, col = "red")
pdf(file = "testRplot.pdf")
x <- rnorm(100)
hist(x)
dev.off()
example(points)
library(lattice)
library(nlme)
xyplot(distance ~ age | Subject, data = Orthodont)
xyplot(distance ~ age | Subject, data = Orthodont, type = "b")
source("http://spark-public.s3.amazonaws.com/compdata/scripts/submitscript.R")
source("http://spark-public.s3.amazonaws.com/compdata/scripts/submitscript.R")
submit()
hindol
submit()
getwd()
setwd(dir="/home/hindol/Workspace/DataAnalysis/HW3/")
getwd()
submit()
getwd()
submit()
fix(submit)
options(RCurlOptions = list(proxy="202.141.80.20:3128", proxyuserpwd="hindol:qazxsw234")
;
options(RCurlOptions = list(proxy="202.141.80.20:3128", proxyuserpwd="hindol:qazxsw234"))
submit()
source('~/Workspace/DataAnalysis/HW3/best.R')
best("SC", "heart attack")
best("TX", "heart attack")
submit()
source('~/Workspace/DataAnalysis/HW3/best.R')
source('~/Workspace/DataAnalysis/HW3/best.R')
best("SC", "heart attack")
submit()
best("SC", "heart attack")
source('~/Workspace/DataAnalysis/HW3/best.R')
df2 <- df2[order(Hospital.Name)]
df2 <- df[df$State == state, ]
df2 <- df2[order(Hospital.Name)]
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
if (!(state %in% states)) {
stop("invalid state")
}
df2 <- df[df$State == state, ]
df2 <- df2[order(Hospital.Name)]
if (outcome == "heart attack") {
;
)))))
best("SC", "heart attack")
source('~/Workspace/DataAnalysis/HW3/best.R')
source('~/Workspace/DataAnalysis/HW3/best.R')
df2 <- df2[order(df2$Hospital.Name)]
best("SC", "heart attack")
source('~/Workspace/DataAnalysis/HW3/best.R')
best("SC", "heart attack")
source('~/Workspace/DataAnalysis/HW3/best.R')
best("SC", "heart attack")
source('~/Workspace/DataAnalysis/HW3/best.R')
best("SC", "heart attack")
source('~/Workspace/DataAnalysis/HW3/best.R')
source('~/Workspace/DataAnalysis/HW3/best.R')
best("SC", "heart attack")
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
states <- unique(df$State)
if (!(state %in% states)) {
stop("invalid state")
}
df2 <- df[df$State == state, ]
source('~/Workspace/DataAnalysis/HW3/best.R')
state <- "SC"
outcome <- "heart attack"
best <- function(state, outcome) {
## Read outcome data
## Check that state and outcome are valid
## Return hospital name in that state with lowest 30-day death
## rate
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
states <- unique(df$State)
if (!(state %in% states)) {
stop("invalid state")
}
df2 <- df[df$State == state, ]
df2 <- df2[order(df2[, 2]), ]
if (outcome == "heart attack") {
}}
state <- "SC"
outcome <- "heart attack"
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
states <- unique(df$State)
if (!(state %in% states)) {
stop("invalid state")
}
df2 <- df[df$State == state, ]
rstudio::viewData(df2)
df2 <- df2[order(df2[, 2]), ]
rstudio::viewData(df2)
best("SC", "heart attack")
source('~/Workspace/DataAnalysis/HW3/best.R')
best("SC", "heart attack")
source('~/Workspace/DataAnalysis/HW3/best.R')
best("SC", "heart attack")
source('~/Workspace/DataAnalysis/HW3/best.R')
best("SC", "heart attack")
submit()
source("http://spark-public.s3.amazonaws.com/compdata/scripts/submitscript.R")
submit()
source('~/Workspace/DataAnalysis/HW3/best.R')
source('~/Workspace/DataAnalysis/HW3/best.R')
source('~/Workspace/DataAnalysis/HW3/best.R')
source('~/Workspace/DataAnalysis/HW3/best.R')
source('~/Workspace/DataAnalysis/HW3/best.R')
submit()
best("TX", "heart attack")
best("TX", "heart attacks")
source('~/Workspace/DataAnalysis/HW3/best.R')
source('~/Workspace/DataAnalysis/HW3/best.R')
source('~/Workspace/DataAnalysis/HW3/best.R')
source('~/Workspace/DataAnalysis/HW3/best.R')
best("TX", "heart attacks")
best("TX", "heart attack")
fix(checkResult)
submit(manual=T)
submit(manual=T)
submit(manual=T)
source('~/Workspace/DataAnalysis/HW3/rankhospital.R')
rankhospital("TX", "heart attack")
source('~/Workspace/DataAnalysis/HW3/rankhospital.R')
rankhospital("TX", "heart attack")
rankhospital("TX", "heart failure", 4)
rankhospital("MD", "heart attack", "worst")
rstudio::viewData(df2)
source('~/Workspace/DataAnalysis/HW3/rankhospital.R', echo=TRUE)
rankhospital("MD", "heart attack", "worst")
source('~/Workspace/DataAnalysis/HW3/rankhospital.R')
state <- "MD"
outcome <- "heart attack"
num <- "worst"
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
states <- unique(df$State)
outcomes <- c("heart attack", "heart failure", "pneumonia")
if (!(state %in% states)) {
stop("invalid state")
}
if (!(outcome %in% outcomes)) {
stop("invalid outcome")
}
df2 <- df[df$State == state, ]
df2[, c(11, 17, 23)] <- sapply(df2[, c(11, 17, 23)], as.numeric)
if (outcome == "heart attack") {
df2 <- df2[order(df2[, 11], df2[, 2]), ]
}
else if (outcome == "heart failure") {
df2 <- df2[order(df2[, 17], df2[, 2]), ]
}
else {
df2 <- df2[order(df2[, 23], df2[, 2]), ]
}
if (num == "best") {
num <- 1L
}
if (num == "worst") {
num <- nrow(df2)
}
df2[num, "Hospital.Name"]
rstudio::viewData(df2)
source('~/Workspace/DataAnalysis/HW3/rankhospital.R')
rankhospital("MD", "heart attack", "worst")
states <- unique(df$State)
outcomes <- c("heart attack", "heart failure", "pneumonia")
if (!(state %in% states)) {
stop("invalid state")
}
if (!(outcome %in% outcomes)) {
stop("invalid outcome")
}
df2 <- df[df$State == state, ]
rm(df2)
df2 <- df[df$State == state, ]
rstudio::viewData(df2)
df2[, c(11, 17, 23)] <- sapply(df2[, c(11, 17, 23)], as.numeric)
if (outcome == "heart attack") {
df2 <- df2[order(df2[, 11]), ]
}
source('~/Workspace/DataAnalysis/HW3/rankhospital.R')
rankhospital("MD", "heart attack", "worst")
rstudio::viewData(df)
source('~/Workspace/DataAnalysis/HW3/rankhospital.R')
rankhospital("MD", "heart attack", "worst")
source('~/Workspace/DataAnalysis/HW3/rankhospital.R')
source('~/Workspace/DataAnalysis/HW3/rankhospital.R')
rankhospital("MD", "heart attack", "worst")
source('~/Workspace/DataAnalysis/HW3/rankhospital.R')
source('~/Workspace/DataAnalysis/HW3/rankhospital.R')
source("http://spark-public.s3.amazonaws.com/compdata/scripts/submitscript.R")
submit(manual=T)
submit(manual=T)
submit(manual=T)
submit(manual=T)
source('~/Workspace/DataAnalysis/HW3/rankall.R')
source('~/Workspace/DataAnalysis/HW3/rankall.R')
source('~/Workspace/DataAnalysis/HW3/rankall.R')
rstudio::viewData(df)
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
states <- unique(df$State)
outcomes <- c("heart attack", "heart failure", "pneumonia")
if (!(state %in% states)) {
stop("invalid state")
}
if (!(outcome %in% outcomes)) {
stop("invalid outcome")
}
df2 <- split(df, df$State)
fix(df2)
df2[1]
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df2[1][, "State"]
df2[1]["State"]
str(df2[1])
head(df2[1])
rstudio::viewData(df)
rstudio::viewData(df2)
rstudio::viewData(df2[1])
rstudio::viewData(df2[2])
source('~/Workspace/DataAnalysis/HW3/rankall.R')
source('~/Workspace/DataAnalysis/HW3/rankall.R')
rankall("heart attack", "worst")
source('~/Workspace/DataAnalysis/HW3/rankall.R')
source('~/Workspace/DataAnalysis/HW3/rankall.R')
source('~/Workspace/DataAnalysis/HW3/rankall.R')
rankall("heart attack", "worst")
source('~/Workspace/DataAnalysis/HW3/rankall.R')
rankall("heart attack", "worst")
source('~/Workspace/DataAnalysis/HW3/rankall.R')
rankall("heart attack", "worst")
source('~/Workspace/DataAnalysis/HW3/rankall.R')
rankall("heart attack", "worst")
ranks <- rankall("heart attack", "worst")
head(rankall("heart attack", 20), 10)
source('~/Workspace/DataAnalysis/HW3/rankall.R')
head(rankall("heart attack", 20), 10)
source('~/Workspace/DataAnalysis/HW3/rankall.R')
head(rankall("heart attack", 20), 10)
source('~/Workspace/DataAnalysis/HW3/rankall.R')
head(rankall("heart attack", 20), 10)
rstudio::viewData(df)
rstudio::viewData(df[df$State == "AZ", ])
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
df <- df[order(df[, 7], df[, 2]), ]
rstudio::viewData(df[df$State == "AZ", ])
source('~/Workspace/DataAnalysis/HW3/rankall.R')
head(rankall("heart attack", 20), 10)
df <- df[order(df[, 11]), ]
rstudio::viewData(df[df$State == "AZ", ])
source('~/Workspace/DataAnalysis/HW3/rankall.R')
source('~/Workspace/DataAnalysis/HW3/rankall.R')
head(rankall("heart attack", 20), 10)
tail(rankall("pneumonia", "worst"), 3)
df <- df[order(-df[, 23])]
df <- df[order(df[, 23])]
df <- df[order(-df[, 23]), ]
df <- df[order(df[, 23]), ]
df <- df[df$State == "WY"]
df <- df[df$State == "WY", ]
rstudio::viewData(df)
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df <- df[c(2, 11, 17, 23)]
rstudio::viewData(df)
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df <- df[order(df[, 5]), ]
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df <- df[order(df[, 23]), ]
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df <- df[order(df[, 2]), ]
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df <- df[order(df[, 4]), ]
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
df <- df[c(2, 11, 17, 23)]
df <- df[order(df[, 4]), ]
rstudio::viewData(df)
source('~/Workspace/DataAnalysis/HW3/rankall.R')
source('~/Workspace/DataAnalysis/HW3/rankall.R')
source('~/Workspace/DataAnalysis/HW3/rankall.R')
source('~/Workspace/DataAnalysis/HW3/rankall.R')
head(rankall("heart attack", 20), 10)
rstudio::viewData(df)
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
rstudio::viewData(df)
source('~/Workspace/DataAnalysis/HW3/rankall.R')
head(rankall("heart attack", 20), 10)
tail(rankall("heart failure"), 10)
source('~/Workspace/DataAnalysis/HW3/rankall.R')
rstudio::viewData(df)
rstudio::viewData(df[df$State == "TN"])
rstudio::viewData(df[df$State == "TN", ])
df <- df[order(df[, 4]), ]
rstudio::viewData(df[df$State == "TN", ])
source('~/Workspace/DataAnalysis/HW3/rankall.R')
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df[, c(3, 4, 5)] <- as.numeric(df[, c(3, 4, 5)])
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
df <- df[c(2, 7, 11, 17, 23)]
df[, c(3, 4, 5)] <- as.numeric(df[, c(3, 4, 5)])
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df[, c(3, 4, 5)] <- sapply(df[, c(3, 4, 5)], as.numeric)
rstudio::viewData(df[df$State == "TN", ])
df <- df[order(df[, 4]), ]
rstudio::viewData(df[df$State == "TN", ])
head(rankall("heart attack", 20), 10)
source('~/Workspace/DataAnalysis/HW3/rankhospital.R', echo=TRUE)
source('~/Workspace/DataAnalysis/HW3/rankall.R', echo=TRUE)
head(rankall("heart attack", 20), 10)
source('~/Workspace/DataAnalysis/HW3/rankhospital.R', echo=TRUE)
head(rankall("heart attack", 20), 10)
source('~/Workspace/DataAnalysis/HW3/rankall.R')
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df <- df[order(df[, 4]), ]
rstudio::viewData(df[df$State == "TN", ])
source('~/Workspace/DataAnalysis/HW3/rankall.R')
df <- df[order(df[, 3]), ]
rstudio::viewData(df[df$State == "AZ", ])
df <- df[na.omit(order(df[, 3])), ]
rstudio::viewData(df[df$State == "AZ", ])
df <- na.omit(df[order(df[, 3]), ])
rstudio::viewData(df[df$State == "AZ", ])
df <- na.omit(df[order(df[, 3], order[, 2]), ])
rstudio::viewData(df[df$State == "AZ", ])
df <- na.omit(df[order(df[, 3]), ])
rstudio::viewData(df[df$State == "AZ", ])
source('~/Workspace/DataAnalysis/HW3/rankall.R', echo=TRUE)
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
df <- df[c(2, 7, 11, 17, 23)]
df[, c(3, 4, 5)] <- sapply(df[, c(3, 4, 5)], as.numeric)
df <- df[order(df[, 3]), ]
rstudio::viewData(df[df$State == "AZ", ])
df <- df[!is.na(df[, 3]), ]
rstudio::viewData(df[df$State == "AZ", ])
head(rankall("heart attack", 20), 10)
rstudio::viewData(df[df$State == "AZ", ])
state <- "AZ"
outcome <- "heart attack"
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
df <- df[c(2, 7, 11, 17, 23)]
df[, c(3, 4, 5)] <- sapply(df[, c(3, 4, 5)], as.numeric)
state <- "AZ"
outcome <- "heart attack"
states <- unique(df$State)
outcomes <- c("heart attack", "heart failure", "pneumonia")
df2 <- df[df$State == state, ]
rstudio::viewData(df2)
if (outcome == "heart attack") {
df2 <- df2[order(df2[, 3], df2[, 1]), ]
df2 <- df2[!is.na(df2[, 3]), ]
}
if (num == "best") {
num <- 20
num <- 20L
}
rm(num)
num <- 20L
df2[num, 1]
head(rankall("heart attack", 20), 10)
head(rankall("heart attack", 20), 10)
source('~/Workspace/DataAnalysis/HW3/rankhospital.R', echo=TRUE)
head(rankall("heart attack", 20), 10)
tail(rankall("pneumonia", "worst"), 3)
tail(rankall("heart failure"), 10)
submit(manual=T)
rstudio::viewData(rankall("heart attack", 4))
source('~/Workspace/DataAnalysis/HW3/rankall.R', echo=TRUE)
submit(manual=T)
submit(manual=T)
submit(manual=T)
rstudio::viewData(rankall("heart failure", 10))
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
df <- df[c(2, 7, 11, 17, 23)]
df[, c(3, 4, 5)] <- sapply(df[, c(3, 4, 5)], as.numeric)
state <- "AK"
outcome <- "heart failure"
num <- 10L
states <- unique(df$State)
outcomes <- c("heart attack", "heart failure", "pneumonia")
df2 <- df[df$State == state, ]
df2 <- df2[order(df2[, 4], df2[, 1]), ]
df2 <- df2[!is.na(df2[, 4]), ]
df2[num, 1]
ranks[i, ] <- c(rankhospital(states[i], outcome, num), states[i])
for (i in 1:length(states)) {
ranks[i, ] <- c(rankhospital(states[i], outcome, num), states[i])
str(num)
}
ranks
df <- df[order(df[, 3]), ]
df <- df[!is.na(df[, 3]), ]
rstudio::viewData(df[df$State == "AZ", ])
rstudio::viewData(df[df$State == state, ])
df <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
df <- df[c(2, 7, 11, 17, 23)]
df[, c(3, 4, 5)] <- sapply(df[, c(3, 4, 5)], as.numeric)
state <- "AK"
outcome <- "heart failure"
num <- 10L
df2 <- df[df$State == state, ]
df2 <- df2[order(df2[, 4], df2[, 1]), ]
df2 <- df2[!is.na(df2[, 4]), ]
rstudio::viewData(df)
rstudio::viewData(df2)
submit(manual=T)
source('~/Workspace/DataAnalysis/HW3/rankall.R', echo=TRUE)
?coplot
?barchart
??barchart
?mtext
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
Diet
Time
?rpois
rpois(2, 3)
rpois(5, 2)
rpois(5, 2)
rpois(5, 2)
rpois(5, 2)
set.seed(1)
rpois(5, 2)
?axis
?lsegments
?text
?mtext
?splom
?points
?lpoints
?barplot
?boxplot
?plot
